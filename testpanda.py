import gopup as gp
import datetime
import pandas as pd
import numpy as np

cookie = 'BIDUPSID=FA901BE6B2DD46D7D328EC474B7DF697; PSTM=1626013967; BAIDUID=FA901BE6B2DD46D7D22A253E69A07EBA:FG=1; __yjs_duid=1_5dc8e5712cb09e0df8cce11131a521901626017262992; BAIDUID_BFESS=FDCF2A6285B2EF72B50E6285C8AF1CA0:FG=1; BDRCVFR[-BxzrOzUsTb]=mk3SLVN4HKm; delPer=0; PSINO=3; H_PS_PSSID=34269_33801_34222_31254_34004_34092_34094_26350_34218; BA_HECTOR=8424a5ah2k2k0401m51gfaaee0q; BDORZ=B490B5EBF6F3CD402E515D22BCDA1598; Hm_lvt_d101ea4d2a5c67dab98251f0b5de24dc=1626431636,1626437959,1626506611,1626679760; BDUSS=UVoS3VncFhUcGgzY3BXNUlDRU9wY0NDTjVYRWNxfklQYWgyc1hFN0lkbmN0aHhoSUFBQUFBJCQAAAAAAAAAAAEAAABd0SI~yfHTobvD07AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANwp9WDcKfVgY; BDUSS_BFESS=UVoS3VncFhUcGgzY3BXNUlDRU9wY0NDTjVYRWNxfklQYWgyc1hFN0lkbmN0aHhoSUFBQUFBJCQAAAAAAAAAAAEAAABd0SI~yfHTobvD07AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANwp9WDcKfVgY; CHKFORREG=2304b6f3770991539bc70192215195ed; ab_sr=1.0.1_MjMxMTUyYTYzNjlkN2ZmMzQ5ODNkMzE0ZDNhY2NkMjFjMmVmZGQ0M2E3YWUwNTllYmQ0YTkyMDYxM2RhZDA0NWUwZTZjNDQzYzY4M2NjNWE1ZjIwZTQ1YmJhNDQwNjgwN2Y1ODQ5ZmI0OWVhMTA5YTkzYjI0Y2EzOTU0OTE4NjI5OGNhZDQyMmY2OWRiOWNkYjRhMDIzNThlOTA0M2FiYw==; __yjs_st=2_M2JiZDRkODVkYWI0NGEwNTBhNmZiYjg4OWMxYzIwMTJlZGVhOTJiYzJmZTJjMzc1YzZkNzY2ZDcxOWU2MjAyZGMxMGMyOGFlZjNmZmEwNzcyMWU5MGI0ZjNhYzE5NDIzYmM0MDE4ZDM4ZjRhZDhkNjRlYTdjODU2Mjk0ZjAzZjQ1YzQ3NmQ5MjY2NzQ1ODA0Y2JhNjAzN2Q4MmRkMzNkNmEwYWRkYjFkMDAxOTZjOTFmNDZiODBjMDRjMzhmYjQwYzkwMWI1ZDIwZDRlMzEyYTZjM2EwZDQ3MTJhOTM0NjVjZWQ1NDg1MDg5ZGViMThkNTVjYmY0ZWUwODNkYTcxYV83XzI4MzI3MDg4; bdindexid=i1vvgsmu4d35ciguhf49c51f26; Hm_lpvt_d101ea4d2a5c67dab98251f0b5de24dc=1626679791; RT="z=1&dm=baidu.com&si=xzyxlymh7k&ss=krab4o4y&sl=5&tt=2vc&bcn=https://fclog.baidu.com/log/weirwood?type=perf"'

# end_date = datetime.datetime.today() + datetime.timedelta()
# start_date = end_date + datetime.timedelta(days=-365)

start_date = '2021-05-01'
end_date = '2021-06-30'

df = gp.baidu_search_index(word='西湖', start_date=start_date, end_date=end_date, cookie=cookie)

# df2 = gp.baidu_search_index(word='武当山', start_date=start_date, end_date=end_date, cookie=cookie)

# 见了鬼了 怎么没有数据的
# print(df.groupby([df.index.year, df.index.month], dropna=True, sort=False, axis=0).mean())

# ndf = df.fillna(0).groupby(pd.Grouper(freq='M'))['西湖'].sum()


print(df)

